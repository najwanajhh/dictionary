<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Dictionary fetch API</title>
  <link rel="stylesheet" href="index.css" />
  <style>
    header {
      background-image: url('dict.jpg');
      max-height: 900px;
    }

    .sec {
      margin-top: 110px;
      margin-left: auto;
      margin-right: auto;
      margin-bottom: 100px;
      padding: 20px 10px;
      font-weight: bold;
      font-size: 20px;
      background-color: rgba(255, 255, 255, 0.556);
      border-radius: 20px;
      width: 800px;
      justify-content: center;
      display: flex;
      color: black;
    }

    body {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
    }

    .logo {
      height: 50px;
      width: 50px;
      margin-right: 20px;
    }

    /* style for the delete buttons */
    #searchHistoryList {
      list-style: none;
      padding: 20px;
    }

    #searchHistoryList li {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      border: 2px solid #ccc; /* Border added */
      box-shadow: 2px 5px 10px 8px #5f5d5d;
      padding: 20px;
      border-radius: 5px; /* Added border-radius */
    }

    .deleteButton {
      background-color: #ff6262;
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
    }
    .thai{
		color: rgb(6, 6, 6);
		font-family: Lucida Handwriting;
		font-weight: bold;
		font-size: 25px;
		text-align: center;
	}
  </style>
</head>

<body>
  <header>
    <div class="hero1">
      <nav>
        <img src="logo.png" class="logo" />
        <h1>DICTIONARY & THESAURUS</h1>
        <ul>
          <li class="nav1"><a href="index.html"> HOME </a></li>
          <li class="nav1"><a href="wordsOfTheDay.html">wordsOfTheDay</a></li>
        </ul>
      </nav>
      <!--<p>Welcome to Dictionary Application.</p>-->
      <section class="sec">
        <h2 class="thai">Search History </h2>
      </section>
    </div>
    <hr size="15pt" width="" color="black" />
  </header>
  <article>
    
    <div>
      <h1>Search History</h1>
      <ul id="searchHistoryList"></ul>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        var searchHistoryList = document.getElementById('searchHistoryList');
        var searchHistory = JSON.parse(localStorage.getItem('searchHistory')) || [];

        for (var i = 0; i < searchHistory.length; i++) {
          var listItem = document.createElement('li');
          listItem.textContent = searchHistory[i];

          // Create a delete button
          var deleteButton = document.createElement('button');
          deleteButton.textContent = 'Delete';
          deleteButton.className = 'deleteButton';
          deleteButton.onclick = function () {
            deleteSearchHistoryItem(this.previousSibling.textContent);
          };

          // Append the delete button to the list item
          listItem.appendChild(deleteButton);

          // Append the list item to the search history list
          searchHistoryList.appendChild(listItem);
        }
      });

      function deleteSearchHistoryItem(item) {
        var searchHistory = JSON.parse(localStorage.getItem('searchHistory')) || [];

        // Find the index of the item in the array
        var index = searchHistory.indexOf(item);

        if (index !== -1) {
          // Remove the item from the array
          searchHistory.splice(index, 1);

          // Update local storage
          localStorage.setItem('searchHistory', JSON.stringify(searchHistory));

          // Refresh the display
          refreshSearchHistory();
        }
      }

      function refreshSearchHistory() {
        var searchHistoryList = document.getElementById('searchHistoryList');
        searchHistoryList.innerHTML = '';

        var searchHistory = JSON.parse(localStorage.getItem('searchHistory')) || [];

        for (var i = 0; i < searchHistory.length; i++) {
          var listItem = document.createElement('li');
          listItem.textContent = searchHistory[i];

          // Create a delete button
          var deleteButton = document.createElement('button');
          deleteButton.textContent = 'Delete';
          deleteButton.className = 'deleteButton';
          deleteButton.onclick = function () {
            deleteSearchHistoryItem(this.previousSibling.textContent);
          };

          // Append the delete button to the list item
          listItem.appendChild(deleteButton);

          // Append the list item to the search history list
          searchHistoryList.appendChild(listItem);
        }
      }
    </script>
  </article>
  <footer></footer>
</body>

</html>
